---
# test
# vim: set ff=unix ts=2 sw=2 sts=2 et : This line is VIM modeline

- name: "{{ testcase }}"
  hosts: localhost
  connection: local
  remote_user: "{{ lookup('pipe','id -un') }}"

  gather_facts: no

  tags:
  - "{{ testcase }}"

  vars:
    testcase: 01_os-supported

    os_spec_os_family: "{{ 'RedHat'|lower }}"
    os_spec_os_distribution: "{{ 'CentOS'|lower }}"
    os_spec_os_version: '6.7'
    os_spec_os_major_version: 6

  roles:
  - test-setup
  - role1
  - role2
  - role3
  - test-teardown

  tasks:

  - name: "{{ testcase }} | main | Debug print"
    debug:
      msg: |
        {{ 'OS-Spec: %s:%s-v%s(%s).'|format(
           os_spec_os_family,os_spec_os_distribution,
           os_spec_os_version,os_spec_os_major_version ) }}

- name: "{{ testcase }}"
  hosts: localhost
  connection: local
  remote_user: "{{ lookup('pipe','id -un') }}"

  gather_facts: no

  tags:
  - "{{ testcase }}"

  vars:
    testcase: 02_macosx-supported

    os_spec_os_family: "{{ 'Darwin'|lower }}"
    os_spec_os_distribution: "{{ 'macosx'|lower }}"
    os_spec_os_version: '10.11.4'
    os_spec_os_major_version: 10

  roles:
  - test-setup
  - role1
  - role2
  - role3
  - test-teardown

  tasks:

  - name: "{{ testcase }} | main | Debug print"
    debug:
      msg: |
        {{ 'OS-Spec: %s:%s-v%s(%s).'|format(
           os_spec_os_family,os_spec_os_distribution,
           os_spec_os_version,os_spec_os_major_version ) }}

- name: "{{ testcase }}"
  hosts: localhost
  connection: local
  remote_user: "{{ lookup('pipe','id -un') }}"

  gather_facts: no

  tags:
  - "{{ testcase }}"

  vars:
    testcase: 03_os-unsupported

    os_spec_os_family: "{{ 'RedHat'|lower }}"
    os_spec_os_distribution: "{{ 'CentOS'|lower }}"
    os_spec_os_version: '5.7'
    os_spec_os_major_version: 5

  roles:
  - test-setup
  - role3
  - test-teardown

  tasks:

  - name: "{{ testcase }} | main | Debug print"
    debug:
      msg: |
        {{ 'OS-Spec: %s:%s-v%s(%s).'|format(
           os_spec_os_family,os_spec_os_distribution,
           os_spec_os_version,os_spec_os_major_version ) }}

