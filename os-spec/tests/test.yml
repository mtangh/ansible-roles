---

- hosts: localhost
  connection: local
  gather_facts: yes

  tags:
  - 01_os-supported

  vars:
    os_spec_os_family: "{{ 'RedHat'|lower }}"
    os_spec_os_distribution: "{{ 'CentOS'|lower }}"
    os_spec_os_version: '6.7'
    os_spec_os_major_version: 6

  roles:
  - test-setup
  - role1
  - role2
  - role3
  - test-teardown

  tasks:

  - name: "{{ test_casename }} | main | Debug print"
    debug: 
      msg: |
        {{ 'OS-Spec: %s:%s-v%s(%s).'|format(
           os_spec_os_family,os_spec_os_distribution,
           os_spec_os_version,os_spec_os_major_version ) }}

- hosts: localhost
  connection: local
  gather_facts: yes

  tags:
  - 02_macosx-supported

  vars:
    os_spec_os_family: "{{ 'Darwin'|lower }}"
    os_spec_os_distribution: "{{ 'macosx'|lower }}"
    os_spec_os_version: '10.11.4'
    os_spec_os_major_version: 10

  roles:
  - role1
  - role2
  - role3

  tasks:

  - name: "{{ test_casename }} | main | Debug print"
    debug: 
      msg: |
        {{ 'OS-Spec: %s:%s-v%s(%s).'|format(
           os_spec_os_family,os_spec_os_distribution,
           os_spec_os_version,os_spec_os_major_version ) }}

- hosts: localhost
  connection: local
  gather_facts: yes

  tags:
  - 03_os-unsupported

  vars:
    os_spec_os_family: "{{ 'RedHat'|lower }}"
    os_spec_os_distribution: "{{ 'CentOS'|lower }}"
    os_spec_os_version: '5.7'
    os_spec_os_major_version: 5

  roles:
  - role3

  tasks:
  
  - name: "{{ test_casename }} | main | Debug print"
    debug: 
      msg: |
        {{ 'OS-Spec: %s:%s-v%s(%s).'|format(
           os_spec_os_family,os_spec_os_distribution,
           os_spec_os_version,os_spec_os_major_version ) }}

