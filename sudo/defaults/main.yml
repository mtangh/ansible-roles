---
# defaults file for sudo

# Includes OS Spec defaults
sudo_vars: |
  {{ lookup('file','./defaults/%s.yml'|
     format(os_spec_os_family|d('default')))|from_yaml }}

# Install packages
sudo_install_packages: |
  {% if sudo_vars.sudo_install_packages|d(none) is not none %}{{
    sudo_vars.sudo_install_packages
  }}{% else %}{{
    ['sudo']
  }}{% endif %}

# SUDOers Admin group
sudo_administrator_group: "{{
  sudo_vars.sudo_administrator_group
  if sudo_vars.sudo_administrator_group|d(none) is not none
  else 'wheel' }}"

# SUDOers Drop-in dir
sudo_sudoers_dropin_dir: "{{
  sudo_vars.sudo_sudoers_dropin_dir
  if sudo_vars.sudo_sudoers_dropin_dir|d(none) is not none
  else false }}"

# SUDOers validate command
sudo_sodoers_validate_command: "{{
  sudo_vars.sudo_sodoers_validate_command
  if sudo_vars.sudo_sodoers_validate_command|d(none) is not none
  else 'visudo -c -f %s' }}"

# SUDOers Host aliases
sudo_sudoers_host_aliases: |
  {% if sudo_vars.sudo_sudoers_host_aliases|d(none) is not none %}{{
    sudo_vars.sudo_sudoers_host_aliases
  }}{% else %}{{
    []
  }}{% endif %}

# SUDOers User aliases
sudo_sudoers_user_aliases: |
  {% if sudo_vars.sudo_sudoers_user_aliases|d(none) is not none %}{{
    sudo_vars.sudo_sudoers_user_aliases
  }}{% else %}{{
    []
  }}{% endif %}

# SUDOers RunAs aliases
sudo_sudoers_runas_aliases: |
  {% if sudo_vars.sudo_sudoers_runas_aliases|d(none) is not none %}{{
    sudo_vars.sudo_sudoers_runas_aliases
  }}{% else %}{{
    []
  }}{% endif %}

# SUDOers Command aliases
sudo_sudoers_cmnd_aliases: |
  {% if sudo_vars.sudo_sudoers_cmnd_aliasess|d(none) is not none %}{{
    sudo_vars.sudo_sudoers_cmnd_aliases
  }}{% else %}{{
    []
  }}{% endif %}

# SUDOers Defaults
sudo_sudoers_defaults: |
  {% if sudo_vars.sudo_sudoers_defaults|d(none) is not none %}{{
    sudo_vars.sudo_sudoers_defaults
  }}{% else %}{{
    []
  }}{% endif %}

# SUDOers rules
sudo_sudoers_rules: |
  {% if sudo_vars.sudo_sudoers_rules|d(none) is not none %}{{
    sudo_vars.sudo_sudoers_rules
  }}{% else %}{{
    []
  }}{% endif %}

