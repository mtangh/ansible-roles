---
- hosts: localhost
  connection: local
  gather_facts: no

  tags:
    01_default

  vars_files:
  - "vars/os-spec.yml"

  vars:

  roles:
  - test-setup
  - { role: ../.. }
  - test-teardown

- hosts: localhost
  connection: local
  gather_facts: no

  tags:
    02_default-darwin

  vars_files:
  - "vars/os-spec_darwin.yml"

  vars:

  roles:
  - test-setup
  - { role: ../.. }
  - test-teardown

- hosts: localhost
  connection: local
  gather_facts: no

  tags:
    03_overwrite-defaults

  vars_files:
  - "vars/os-spec_darwin.yml"
 
  vars:

  roles:
  - test-setup
  - { role: ../.. }
  - test-teardown

